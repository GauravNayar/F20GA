# F20GA

Interaction Folder:

Loading the models:
There were several issues with loading the models into the template code. The first of which was even before starting work on the interaction section for OpenGL. The default template code is supposed to run the program to render a dog model from the assets folder. However, the dog was rendering with texture issues with only the colour and haphazard textures being rendered. An undue amount of time was spent in trying to figure out the issue. Most students could run the default template code with no issues, which meant that the problem was in the specific system running the template code. The main difference that I spotted was that the Renderer in other sytems was either Intel's integrated graphics or Nvidea graphics driver. The template code however, was using the APU 'AMD Radeon(TM) Graphics' as the renderer in my system. I manually updated the AMD graphics driver, however it did not solve the issue. I then had to manually switch the renderer to use my dedicated Nvidea graphics driver for OpenGL from the Nvidea control panel. This forced the template to switch to the Nvidea graphics driver as the renderer which solved the issue.

The template uses .gltf files to load in the object models. In order to load in the models successfully, the models had to be exported from blender in .gltf format with separate bin and texture image files. Several attempts to load in the models were unsuccessful with the models breaking in the OpenGL application. To solve this issue, the models were properly uv unwrapped using 'lightmap pack' uv unwrap method in blender. This uv map was saved as a new image with 4k resolution. Inside the shading section of blender, for every material, an image texture node was added with the uv map image assigned to it. After selecting the model, and the uv map image texture node, the bake function was used inside Blender's rendering options. The bake functionionality of blender enables different procedural materials to be blended into a single texture image. All of the materials were deleted and only the single baked texture image node was used for the models. After baking a single texture image, the models were then able to be successfully exported as separate .gltf, bin and texture image files. Inside the template, the LoadGltf function was used to load in the models by providing the directory of the models' .gltf file. Since, only the aeroplane model had to be interactive, the aeroplane model and the scene model were loaded as two separate models by following the aforementioned texture baking method separately for the two models.

In order to load in the textures of the models properly, the code to load textures from 'lab 6' and the 'texture code section', available on canvas, was used. The stbi image implementation library was already included in the template in the tinygltf folder and was used to load in the texture images of the two models. Before drawing the models, their respective textures are set as the active texture. This enabled the models to load in their separate respective textures. The models were then placed by adjusting the models' position and rotation values that are passed into the models' matrices.  

Lighting of the scene:
The code for light calculations, available on canvas, was used to implement the lighting. The lighting contains ambient, diffuse and specular lighting values with each having 3 values for rgb respectively and one for intensity. Since the scene is set at night, I decided to give a blueish tint to the ambient light by setting the blue value in the rgb values higher than red and green. This gave the effect of a blueish tint on the scene that simulates the lighting seen at night. The lighting source for diffuse and specular lighting was attached to the font of the plane with the light moving along with the plane. This gave the effect of headlights on the aeroplane that would lightup the aeroplane's path in the dark. The diffuse and specular rgb values were set with higher red value than green and blue. This was done to simulate the yellowish tint of the lighting of a torch or headlight. Additionally, the background of the scene was changed from the default inchyra blue to a darkish blue to simulate the night sky.

Interaction: 
The application can be interacted with by the user in multiple ways. Users can use the 'Up', 'Down', 'Left' and 'Right' directional keys on the keyboard to move the exploration camera in the directions of front, back, left and right respectively. This was implemented by associating the keys with the camera's position values in the x and z axis. Similarly, users can interact with the main aeroplane model in the scene by using the 'W', 'S' keys to move the aeroplane front and back respectively. To make the aeroplane takeoff, users must press the 'W' and 'Spacebar' keys simultaneously, which moves the aeroplane along the x and y axis simultaneously, which simulates the effect of the aeroplane taking off. Additionally, user's can press the 'Z' key to reset the position of the camera and the aeroplane model. This was implemented by storing the values of the starting positions of the camera and aeroplane and then passing those values into their current position values when the user presses the 'Z' key.  

